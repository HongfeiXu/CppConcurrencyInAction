{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "CMake: configure",
			"type": "shell",
			"command": "cmake",
			"args": [
				"-S",
				"${workspaceFolder}",
				"-B",
				"${workspaceFolder}/build",
				"-G",
				"Visual Studio 17 2022",
				"-A",
				"x64"
			],
			"problemMatcher": [],
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated"
			}
		},
		// {
		// 	"label": "CMake: build (Debug)",
		// 	"type": "shell",
		// 	"command": "cmake",
		// 	"args": [
		// 		"--build",
		// 		"${workspaceFolder}/build",
		// 		"--config",
		// 		"Debug"
		// 	],
		// 	"group": {
		// 		"kind": "build",
		// 		"isDefault": true
		// 	},
		// 	"problemMatcher": {
		// 		"owner": "cpp",
		// 		"fileLocation": ["relative", "${workspaceFolder}"],
		// 		"pattern": {
		// 			"regexp": "^(.*)\\((\\d+)\\)\\s*:\\s*(error|warning)\\s*(C\\d+)\\s*:\\s*(.*)$",
		// 			"file": 1,
		// 			"line": 2,
		// 			"severity": 3,
		// 			"code": 4,
		// 			"message": 5
		// 		}
		// 	},
		// 	"presentation": {
		// 		"reveal": "always",
		// 		"panel": "dedicated"
		// 	}
		// },
		// {
		// 	"label": "CMake: build (Release)",
		// 	"type": "shell",
		// 	"command": "cmake",
		// 	"args": [
		// 		"--build",
		// 		"${workspaceFolder}/build",
		// 		"--config",
		// 		"Release"
		// 	],
		// 	"problemMatcher": {
		// 		"owner": "cpp",
		// 		"fileLocation": ["relative", "${workspaceFolder}"],
		// 		"pattern": {
		// 			"regexp": "^(.*)\\((\\d+)\\)\\s*:\\s*(error|warning)\\s*(C\\d+)\\s*:\\s*(.*)$",
		// 			"file": 1,
		// 			"line": 2,
		// 			"severity": 3,
		// 			"code": 4,
		// 			"message": 5
		// 		}
		// 	},
		// 	"presentation": {
		// 		"reveal": "always",
		// 		"panel": "dedicated"
		// 	}
		// },
		{
			"label": "CMake: clean",
			"type": "shell",
			"command": "cmake",
			"args": [
				"--build",
				"${workspaceFolder}/build",
				"--target",
				"clean"
			],
			"problemMatcher": []
		},
		{
			"label": "Open Visual Studio",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-Command",
				"$vsPath = 'C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\Common7\\IDE\\devenv.exe'; $slnPath = '${workspaceFolder}\\build\\CppConcurrencyInAction.sln'; if (Test-Path $vsPath) { Start-Process -FilePath $vsPath -ArgumentList $slnPath } else { Write-Host 'Visual Studio not found at: ' $vsPath -ForegroundColor Red }"
			],
			"problemMatcher": [],
			"presentation": {
				"reveal": "never",
				"panel": "shared"
			}
		}
	]
}

